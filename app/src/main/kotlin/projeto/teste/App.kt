/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package projeto.teste

import it.skrape.core.htmlDocument
import it.skrape.fetcher.*
import it.skrape.selects.eachText
import it.skrape.selects.html5.p


fun searchWordMeaning(name: String): Palavra {

    val meaning = skrape(HttpFetcher) {

        request {
            url = "https://www.dicio.com.br/$name/"
        }

        response(fun Result.(): List<String> {
            val parsedHtml = htmlDocument {
                p(".significado.textonovo>span:not(.cl):not(.etim):not(.cl-block)") {
                    findAll {
                        eachText
                    }
                }
            }
            return parsedHtml
        })
    }
    val palavra = Palavra(name, meaning)

    return palavra
}

fun main() {
    println(searchWordMeaning("amor"))
}

data class Palavra(val word: String, val meaning: List<String>)
